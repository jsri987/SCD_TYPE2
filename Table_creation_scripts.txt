--Table creation scripts

DROP TABLE DEPARTMENTS_TEST CASCADE CONSTRAINTS PURGE;

CREATE TABLE DEPARTMENTS_TEST
(
   DEPARTMENT_ID     NUMBER(4),
   DEPARTMENT_NAME   VARCHAR2(30 Byte)   NOT NULL,
   MANAGER_ID        NUMBER(6),
   LOCATION_ID       NUMBER(4),
   EFF_DT            DATE,
   END_DT            DATE,
   SK_DEPARTMENT_ID  NUMBER              NOT NULL
)
TABLESPACE USERS;

ALTER TABLE DEPARTMENTS_TEST
   ADD CONSTRAINT PK_DEPARTMENTS_TEST
   PRIMARY KEY (SK_DEPARTMENT_ID) 
   USING INDEX TABLESPACE USERS;

   
   DROP TABLE DEPARTMENTS_TEST_HIST CASCADE CONSTRAINTS PURGE;

CREATE TABLE DEPARTMENTS_TEST_HIST
(
   DEPARTMENT_ID     NUMBER(4),
   DEPARTMENT_NAME   VARCHAR2(30 Byte)   NOT NULL,
   MANAGER_ID        NUMBER(6),
   LOCATION_ID       NUMBER(4),
   EFF_DT            DATE,
   END_DT            DATE,
   SK_DEPARTMENT_ID  NUMBER,
   AUDIT_AT          TIMESTAMP(6),
   AUDIT_BY          VARCHAR2(30 Byte),
   AUDIT_ACTION      VARCHAR2(10 Byte)
)
TABLESPACE USERS;


DROP TABLE EMPLOYEE_TEST CASCADE CONSTRAINTS PURGE;

CREATE TABLE EMPLOYEE_TEST
(
   EMPLOYEE_ID       NUMBER(6),
   FIRST_NAME        VARCHAR2(20 Byte),
   LAST_NAME         VARCHAR2(25 Byte)   NOT NULL,
   EMAIL             VARCHAR2(25 Byte)   NOT NULL,
   PHONE_NUMBER      VARCHAR2(20 Byte),
   HIRE_DATE         DATE                NOT NULL,
   JOB_ID            VARCHAR2(10 Byte)   NOT NULL,
   SALARY            NUMBER(8,2),
   COMMISSION_PCT    NUMBER(2,2),
   MANAGER_ID        NUMBER(6),
   SK_DEPARTMENT_ID  NUMBER(4),
   EFF_DT            DATE,
   END_DT            DATE
)
TABLESPACE USERS;

ALTER TABLE EMPLOYEE_TEST
  ADD FOREIGN KEY (SK_DEPARTMENT_ID)
  REFERENCES DEPARTMENTS_TEST (SK_DEPARTMENT_ID);
